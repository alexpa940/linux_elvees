# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/iio/imu/qst,qmi8658c.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: QST QMI8658 IMU

maintainers:
  - Orazov Ilya <iorazov@elvees.com>

description: |
  Low Noise, Wide Bandwidth 6D Inertial Measurement
  Unit with Motion Co-Processor and Sensor Fusion
  https://www.qstcorp.com/upload/pdf/202202/（已传）QMI8658C datasheet rev 0.9.pdf

properties:
  compatible:
    const: qst,qmi8658c

  reg:
    maxItems: 1

  interrupts:
    maxItems: 2

  interrupt-names:
    items:
      - const: INT1
      - const: INT2
    description: |
      INT1 is used as part of the CTRL9 handshake protocol and
      can indicate Wake On Motion.
      INT2 generally indicates data availability and can be
      used for motion detection event interrupt.

  mount-matrix:
    description: an optional 3x3 mounting rotation matrix

required:
  - compatible
  - reg

additionalProperties: false

examples:
  - |
    #include <dt-bindings/interrupt-controller/irq.h>
    i2c2 {
        #address-cells = <1>;
        #size-cells = <0>;

        qmi8658c: imu@6b {
            compatible = "qst,qmi8658c";
            reg = <0x6b>;
            interrupt-parent = <&gpio0a>;
            interrupts = <5 IRQ_TYPE_LEVEL_HIGH>,
                         <4 IRQ_TYPE_LEVEL_HIGH>;
            interrupt-names = "INT1", "INT2";
            mount-matrix = "0", "1", "0",
                           "1", "0", "0",
                           "0", "0", "-1";
        };
    };
